(()=>{var e={562:()=>{const e=new class{dragAndDrop(){let e=null,t=null,n=null,r=null,l=null,o=null,s=null,a=null;document.querySelectorAll(".items").forEach((d=>{d.addEventListener("mousedown",(o=>{if(o.preventDefault(),s=o.target.querySelector(".button-close"),a=o.target.querySelector(".card-text"),null!==s&&s.classList.add("hidden"),null!==a&&a.classList.add("hidden"),!o.target.classList.contains("items-item"))return;if(o.target.classList.contains("add-card"))return;document.body.style.cursor="grabbing",e=o.target,t=o.target.cloneNode(!0),t.classList.add("dragged"),e.classList.add("not-shadow"),document.body.appendChild(t);const d=o.target.getBoundingClientRect();n=d,t.style.left=`${d.left}px`,t.style.top=`${d.top}px`,r=o.pageX-n.left,l=o.pageY-n.top})),d.addEventListener("mousemove",(n=>{if(n.preventDefault(),!e)return;t.style.left=n.pageX-r+"px",t.style.top=n.pageY-l+"px";const s=document.elementFromPoint(n.clientX,n.clientY);n.target.classList.contains("items")||n.target.classList.contains("add-card")||n.target.classList.contains("button-close")||n.target.classList.contains("card-text")||s.classList.contains("not-shadow")||(null===o?(o=e.cloneNode(!0),o.classList.add("shadowEl"),n.currentTarget.insertBefore(o,s.nextSibling)):o.isEqualNode(s)||(o.remove(),o=e.cloneNode(!0),o.classList.add("shadowEl"),n.currentTarget.insertBefore(o,s.nextSibling)))})),d.addEventListener("mouseup",(n=>{if(!e)return;if(n.target.classList.contains("add-card"))return;if(n.target.classList.contains("items"))return;e.classList.remove("not-shadow"),null!==o&&(o.remove(),o.classList.remove("shadowEl"),o=null),s.classList.remove("hidden"),s=null,a.classList.remove("hidden"),a=null;const r=document.elementFromPoint(n.clientX,n.clientY);r.classList.contains("items")?r.appendChild(e):n.currentTarget.insertBefore(e,r),document.body.removeChild(t),t=null,e=null,this.saveToStorage()}))}))}addCard(){document.querySelectorAll(".add-card").forEach((e=>{e.addEventListener("click",(()=>{let t=e.closest("div"),n=document.createElement("div");n.classList.add("card"),n.classList.add("items-item"),t.insertBefore(n,e);let r=document.createElement("input");r.classList.add("card-text"),r.type="text";let l=document.createElement("button");l.type="button",l.classList.add("button-close"),l.textContent="X",n.appendChild(l),n.appendChild(r),this.saveToStorage(),this.cardsController(t,e),this.closeButtonListener(l,n,e,t),this.textInput()}))}))}initButtonListener(){document.querySelectorAll(".button-close").forEach((e=>{e.addEventListener("click",(()=>{let t=e.closest("div"),n=t.parentElement;t.remove();let r=n.querySelector(".add-card");this.buttonController(r,!1),this.saveToStorage()}))}))}closeButtonListener(e,t,n,r){e.addEventListener("click",(()=>{t.remove(),this.cardsController(r,n),this.saveToStorage()}))}cardsController(e,t){let n=e.getElementsByClassName("card"),r=Array.from(n);7===r.length?this.buttonController(t,!0):r.length<7&&this.buttonController(t,!1)}buttonController(e,t){e.disabled=t}textInput(){document.querySelectorAll(".card-text").forEach((e=>{e.addEventListener("click",(()=>{e.focus()})),e.addEventListener("keyup",(()=>{this.saveToStorageText()}))}))}saveToStorage(){let e=window.localStorage,t=document.getElementById("main").innerHTML;this.saveToStorageText(),e.setItem("markup",t)}saveToStorageText(){let e=window.localStorage,t=document.querySelectorAll(".card-text"),n=[];t.forEach((e=>{n.push(e.value)})),e.setItem("inputs",JSON.stringify(n))}checkReload(){if(performance.navigation.type===performance.navigation.TYPE_RELOAD){let e=window.localStorage,t=e.getItem("markup");null!==t&&(document.getElementById("main").innerHTML=t);let n=e.getItem("inputs");if(null!==n){n=JSON.parse(n);document.querySelector(".card-text");let e=document.querySelectorAll(".card-text");for(let t=0;t<e.length;t++)e[t].value=n[t]}}}};e.checkReload(),e.addCard(),e.initButtonListener(),e.dragAndDrop(),e.textInput()}},t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={exports:{}};return e[r](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(562)})()})();